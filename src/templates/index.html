{% extends "base.html" %}
{% block content %}
<section class="hero">
    <div class="text-center">
        <h2 class="text-4xl font-bold mb-4">Plan Your Sustainable Journey</h2>
        {% if 'user_id' in session %}
        <p class="text-xl mb-4">Welcome back! Start planning your eco-friendly trip.</p>
        {% else %}
        <p class="text-xl mb-4">Discover eco-friendly travel options to reduce your carbon footprint.</p>
        {% endif %}
        {% if error %}
        <p class="text-red-500 mb-4">{{ error }}</p>
        {% endif %}
        <form action="{{ url_for('select_route') }}" method="POST" class="max-w-md mx-auto">
            <label for="start_point" class="form-label"><i class="fas fa-map-marker-alt"></i> Start Point</label>
            <select id="start_point" name="start_point" class="w-full p-2 mb-4 border rounded" required onchange="updatePrice()">
                <option value="" disabled selected>Select start point</option>
                {% for location in locations %}
                <option value="{{ location }}">{{ location }}</option>
                {% endfor %}
            </select>
            <label for="end_point" class="form-label"><i class="fas fa-map-marker-alt"></i> End Point</label>
            <select id="end_point" name="end_point" class="w-full p-2 mb-4 border rounded" required onchange="updatePrice()">
                <option value="" disabled selected>Select end point</option>
                {% for location in locations %}
                <option value="{{ location }}">{{ location }}</option>
                {% endfor %}
            </select>
            <label for="inbound_date" class="form-label"><i class="fas fa-calendar-alt"></i> Inbound Date</label>
            <input type="date" id="inbound_date" name="inbound_date" class="w-full p-2 mb-4 border rounded" required>
            <label for="outbound_date" class="form-label"><i class="fas fa-calendar-alt"></i> Outbound Date</label>
            <input type="date" id="outbound_date" name="outbound_date" class="w-full p-2 mb-4 border rounded" required>
            <label for="adults" class="form-label"><i class="fas fa-user"></i> Adults</label>
            <input type="number" id="adults" name="adults" class="w-full p-2 mb-4 border rounded" min="1" value="1" required onchange="updatePrice()">
            <label for="children" class="form-label"><i class="fas fa-child"></i> Children</label>
            <input type="number" id="children" name="children" class="w-full p-2 mb-4 border rounded" min="0" value="0" required onchange="updatePrice()">
            <p id="price-preview" class="text-xl mb-6 hidden"><i class="fas fa-pound-sign"></i> Estimated Price: Â£<span id="price-value">0</span></p>
            <button type="submit" class="bg-green-500 text-white px-6 py-3 rounded hover:bg-green-700 transition" aria-label="View Travel Options"><i class="fas fa-search"></i> Find Routes</button>
        </form>
    </div>
</section>
{% endblock %}